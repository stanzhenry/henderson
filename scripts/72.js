const lunioDeploymentEnv="prod",lunioHostname=`${lunioDeploymentEnv}.mplat-ppcprotect.com`;var LunioClientData=class{constructor(){this.url=window.location.href,this.token="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50X2lkIjoxNzE1MX0.PcAXPOnfp0CfX_mY0cjY8mvfjL3lVu-seQpiogrjKpM",this.historyLength=window.history.length,this.cookieEnabled=navigator.cookieEnabled,this.platform=navigator.platform,this.browserLanguage=navigator.language,this.devicePixelRatio=window.devicePixelRatio,this.screenHeight=screen.height,this.screenWidth=screen.width,this.viewportWidth=window.innerWidth,this.viewportHeight=window.innerHeight}get_adclick_data(){return{href:this.url,token:this.token,historyLength:this.historyLength,cookieEnabled:this.cookieEnabled,platform:this.platform,browserLanguage:this.browserLanguage,devicePixelRatio:this.devicePixelRatio,screenHeight:this.screenHeight,screenWidth:this.screenWidth,viewportWidth:this.viewportWidth,viewportHeight:this.viewportHeight}}get_click_data(){return{href:this.url,token:this.token,client_id:0}}};const lunioPlatformWrapperCheck=(i,t)=>{const c=[3,6,9,15,25,42,60][Symbol.iterator](),n=()=>{if(i())t();else{const l=c.next().value;l&&setTimeout(n,l*1e3)}};n()},lunio_is_ad_click=i=>{const t=["ppcp_platform=","utm_source=","gclid=","wbraid=","gbraid=","gclsrc=","csrf=","dclid=","fbclid=","twclid=","li_fat_id=","epik=","msclkid=","rdt_cid=","ttclid=","ob_click_id=","NaPm=","bd_vid=","yclid=","criteo="];let e=i.toLowerCase();for(const c of t)if(e.search(c)!==-1)return e.search("ppcp_platform=organic")===-1;return!1},lunio_is_ad_click_v2=i=>{const t="*",e=["cpc","ppc","paid","cpm","display","pmax"],c=[{name:"google",ppcp_platform:"google",utm_source:["google","adwords"],utm_medium:e,special:[["gclid",t]]},{name:"meta",ppcp_platform:"meta",utm_source:["facebook","fb","meta","ig","instagram","an","msg"],utm_medium:e,special:[]},{name:"meta",ppcp_platform:"facebook",utm_source:["facebook","fb","meta","ig","instagram","an","msg"],utm_medium:e,special:[]},{name:"twitter",ppcp_platform:"twitter",utm_source:["twitter"],utm_medium:e,special:[["twclid",t]]},{name:"pinterest",ppcp_platform:"pinterest",utm_source:["pinterest"],utm_medium:e,special:[]},{name:"linkedin",ppcp_platform:"linkedin",utm_source:["linkedin"],utm_medium:e,special:[]},{name:"outbrain",ppcp_platform:"outbrain",utm_source:["outbrain"],utm_medium:[t],special:[["ob_click_id",t]]},{name:"youtube",ppcp_platform:"youtube",utm_source:["youtube"],utm_medium:e,special:[["gclid",t]]},{name:"tiktok",ppcp_platform:"tiktok",utm_source:["tiktok","tt"],utm_medium:e,special:[]},{name:"baidu",ppcp_platform:"baidu",utm_source:["baidu"],utm_medium:e,special:[]},{name:"reddit",ppcp_platform:"reddit",utm_source:["reddit"],utm_medium:e,special:[]},{name:"adroll",ppcp_platform:"adroll",utm_source:["adroll"],utm_medium:e,special:[]},{name:"naver",ppcp_platform:"naver",utm_source:["naver"],utm_medium:e,special:[]},{name:"bing",ppcp_platform:"bing",utm_source:["bing","ms","microsoft"],utm_medium:e,special:[["msclkid",t]]},{name:"yahoo_japan",ppcp_platform:"yj",utm_source:["yj","yahoo"],utm_medium:e,special:[]},{name:"dv360",ppcp_platform:"dv360",utm_source:["dv","dv360","preroll","display","seenthis"],utm_medium:[t],special:[["dclid",t]]},{name:"taboola",ppcp_platform:"taboola",utm_source:["taboola"],utm_medium:[t],special:[]}];let n=new URLSearchParams(i.toLowerCase()),l=!1,m=!1,r="";for(const o of c){if(n.get("ppcp_platform")===o.ppcp_platform){m=!0,r=o.name;break}for(const[d,p]of o.special)if(p===t&&n.has(d)||n.get(d)===p){l=!0,r=o.name;break}}if(m||l)return[!0,r];if(n.has("utm_source")&&n.has("utm_medium")){let o=!1,d=n.get("utm_source"),p=n.get("utm_medium");for(const u of c){let a=!1,s=!1;for(const _ of u.utm_source)if(_===t||d.indexOf(_)>=0){a=!0;break}for(const _ of u.utm_medium)if(_===t||p.indexOf(_)>=0){s=!0;break}if(a&&s){o=!0,r=u.name;break}}if(o)return[!0,r]}return[!1,r]},lunio_pn="lpn",lunio_pn_plat="plat";function js_cloud_adclick(i,t){let[e,c]=t;const n=`https://pclick.${lunioHostname}/recv`,l=`?${lunio_pn}=${e?"p":"n"}&${lunio_pn_plat}=${c}&data=`+i,m=performance.now();fetch(n+l,{}).then(r=>r.json()).then(r=>{if(r.flag==="set"){var o="";try{let a=document.createElement("script");a.type="text/javascript",a.setAttribute("async","true"),a.setAttribute("src","https://www.googletagmanager.com/gtag/js?id=AW-10789775893"),document.documentElement.firstChild.appendChild(a),window.dataLayer=window.dataLayer||[];const s=function(){dataLayer.push(arguments)};s("js",new Date),s("event","Lunio_Invalid_User",{event_label:"Lunio_Invalid_User",event_category:"Lunio",value:0,non_interaction:!0}),s("config","AW-10789775893"),s("event","conversion",{send_to:"AW-10789775893/Zyd3CODzkJ4ZEJXU-5go"})}catch(a){o+=String(a),o+=";"}try{lunioPlatformWrapperCheck(()=>"fbq"in window,()=>{window.fbq("trackCustom","Lunio")})}catch(a){o+=String(a),o+=";"}try{lunioPlatformWrapperCheck(()=>"twttr"in window,()=>{window.twttr.conversion.trackPid("tw-obyzy-ol7qv",{tw_sale_amount:0,tw_order_quantity:0})})}catch(a){o+=String(a),o+=";"}try{var d="https://dc.ads.linkedin.com/collect/?time=[[timestamp]]&pid=[[client_li_pid]]&url=[[client_li_url]]&pageUrl=https://[[client_li_url]]/invalid_user&ref=&fmt=js&s=1",p=d.replace("[[timestamp]]",new Date().getTime()).replace("[[client_li_pid]]","4323889").replace("[[client_li_url]]",document.location.origin+"/invalid_user").replace("[[client_li_url]]",window.location.hostname),u=document.createElement("script");u.type="text/javascript",u.src=p,document.head.appendChild(u)}catch(a){o+=String(a),o+=";"}}}).catch(r=>{})}function js_cloud_click(i,t){let[e,c]=t;const n=`https://click.${lunioHostname}/v2/recv`,l=`?${lunio_pn}=${e?"p":"n"}&${lunio_pn_plat}=${c}&data=`+i;fetch(n+l,{}).then(m=>m.json()).then(m=>{}).catch(m=>{})}function Base64EncodeUrl(i){return i=btoa(i),i.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}function lunioMain(){var i=i||null;i?i.url=window.location.href:i=new LunioClientData;let t=[!1,""];try{t=lunio_is_ad_click_v2(window.location.search)}catch{t=[!1,"err"]}if({adclickV1:()=>lunio_is_ad_click(i.url),adclickV2:()=>t[0]}.adclickV1()){let c={};c.client_data=i.get_adclick_data(),js_cloud_adclick(Base64EncodeUrl(JSON.stringify(c)),t)}else js_cloud_click(encodeURIComponent(JSON.stringify(i.get_click_data())),t);return 0}lunioMain();
